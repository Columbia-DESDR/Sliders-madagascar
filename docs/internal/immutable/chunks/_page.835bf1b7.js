import{G as R,S as oe,i as ue,s as ce,e as f,c as m,b as w,d as r,h as p,l as c,m as I,o as F,T as pe,t as N,a as L,B as be,g as O,f as j,C as fe,U as C,D as me,n as M,F as _e,y as ve,z as ye,E as ge,r as he,p as G,q as ae,A as we}from"./index.79b965b9.js";import{v as xe,b as Y,i as ke,k as Ee,f as Ie,B as Le,a as le,m as je}from"./index.b32f6c87.js";/* empty css                                              */import{d as De}from"./database.25cd8d94.js";import{m as K}from"./model_out.696abf0c.js";import{p as qe}from"./params.928cf6f3.js";function Se(s){return s&&s.execute}function ie(s){return s&&s.addSourceIact}class ne{constructor(t){var n,g;let a=R(xe),l=R(Y);this.id=t.id,this.m=t.m,this.type=(n=this.m)==null?void 0:n.type,this.space=(g=this.m)==null?void 0:g.space,this.postprocess=t.postprocess??ke,this.source=ie(t.source)?t.source:a[t.source],this.target=Se(t.target)?t.target:l[t.target],ie(this.source)?this.source.addSourceIact(this):console.warn("Interaction source doesn't define addSourceIact",this.source)}trigger(t,...a){let l=this.postprocess(t);console.log("let's see iact binding: ",t),this.target.execute(l,...a)}preview(t){throw new Error("Not Implemented")}}class Ve{constructor(){this.iacts=[]}register(t){t instanceof ne?this.iacts.push(t):this.iacts.push(new ne(t))}registerInteractions(t){t.forEach(a=>this.register(a))}}function Be(s){let t,a;return{c(){t=f("table"),a=f("tbody"),this.h()},l(l){t=m(l,"TABLE",{class:!0});var n=w(t);a=m(n,"TBODY",{id:!0}),w(a).forEach(r),n.forEach(r),this.h()},h(){p(a,"id","body"),p(t,"class","table-auto")},m(l,n){c(l,t,n),I(t,a)},p:F,i:F,o:F,d(l){l&&r(t)}}}function Te(s,t,a){let l=[];function n(g,_){l=g??l;let x=Ee(l[0]),o="";o+="<tr>",x.forEach(v=>{o+=`<th>${v}</th>`}),o+="</tr>",l.forEach(v=>{o+="<tr>",Ie((y,d)=>{o+=`<td>${y}</td>`},v),o+="</tr>"}),document.getElementById("body").innerHTML=o}return[n]}class Ne extends oe{constructor(t){super(),ue(this,t,Te,Be,ce,{render:0})}get render(){return this.$$.ctx[0]}}function Oe(s){let t,a,l,n,g=Object.keys(K)+"",_,x,o,v,y,d,D=JSON.stringify(s[0],null,2)+"",q,B,k,P,T,u,b,z,S,H,J,V,h,U,E,$,W,Q;pe(s[7]);let de={};return E=new Ne({props:de}),s[10](E),{c(){t=f("div"),a=N("Models available"),l=L(),n=f("div"),_=N(g),x=L(),o=f("div"),v=N("Parameters currently"),y=L(),d=f("div"),q=N(D),B=L(),k=f("div"),P=N("Enter selected model"),T=L(),u=f("div"),b=f("input"),z=L(),S=f("div"),H=N("Enter param updates"),J=L(),V=f("div"),h=f("input"),U=L(),be(E.$$.fragment),this.h()},l(e){t=m(e,"DIV",{class:!0});var i=w(t);a=O(i,"Models available"),i.forEach(r),l=j(e),n=m(e,"DIV",{class:!0});var A=w(n);_=O(A,g),A.forEach(r),x=j(e),o=m(e,"DIV",{class:!0});var X=w(o);v=O(X,"Parameters currently"),X.forEach(r),y=j(e),d=m(e,"DIV",{class:!0});var Z=w(d);q=O(Z,D),Z.forEach(r),B=j(e),k=m(e,"DIV",{class:!0});var ee=w(k);P=O(ee,"Enter selected model"),ee.forEach(r),T=j(e),u=m(e,"DIV",{class:!0});var te=w(u);b=m(te,"INPUT",{type:!0,class:!0}),te.forEach(r),z=j(e),S=m(e,"DIV",{class:!0});var se=w(S);H=O(se,"Enter param updates"),se.forEach(r),J=j(e),V=m(e,"DIV",{class:!0});var re=w(V);h=m(re,"INPUT",{type:!0,class:!0}),re.forEach(r),U=j(e),fe(E.$$.fragment,e),this.h()},h(){p(t,"class","text-2xl text-center svelte-18gbjk8"),p(n,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(o,"class","text-2xl text-center svelte-18gbjk8"),p(d,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(k,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(b,"type","text"),p(b,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(u,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8"),p(S,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(h,"type","text"),p(h,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(V,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8")},m(e,i){c(e,t,i),I(t,a),c(e,l,i),c(e,n,i),I(n,_),c(e,x,i),c(e,o,i),I(o,v),c(e,y,i),c(e,d,i),I(d,q),c(e,B,i),c(e,k,i),I(k,P),c(e,T,i),c(e,u,i),I(u,b),C(b,s[2]),c(e,z,i),c(e,S,i),I(S,H),c(e,J,i),c(e,V,i),I(V,h),C(h,s[4]),c(e,U,i),me(E,e,i),$=!0,W||(Q=[M(window,"resize",s[7]),M(b,"input",s[8]),M(b,"change",s[6]),M(h,"input",s[9]),M(h,"change",s[5])],W=!0)},p(e,[i]){(!$||i&1)&&D!==(D=JSON.stringify(e[0],null,2)+"")&&_e(q,D),i&4&&b.value!==e[2]&&C(b,e[2]),i&16&&h.value!==e[4]&&C(h,e[4]);const A={};E.$set(A)},i(e){$||(ve(E.$$.fragment,e),$=!0)},o(e){ye(E.$$.fragment,e),$=!1},d(e){e&&r(t),e&&r(l),e&&r(n),e&&r(x),e&&r(o),e&&r(y),e&&r(d),e&&r(B),e&&r(k),e&&r(T),e&&r(u),e&&r(z),e&&r(S),e&&r(J),e&&r(V),e&&r(U),s[10](null),ge(E,e),W=!1,he(Q)}}}function Pe(s,t,a){let l,n,g;G(s,Y,u=>a(12,l=u)),G(s,le,u=>a(13,n=u)),G(s,qe,u=>a(14,g=u));let _=g;console.log("local params are:",_);let x=0,o=null,v=null,y=null,d=null;ae(Y,l=new Le,l),ae(le,n=new Ve,n);let D=function(){console.log("new param raw entry is: ",d);let u=String(d),b=JSON.parse(u);console.log("new parameters received",b),a(0,_=je(_,b)),q()},q=function(){console.log("executing model: ",K[o].query),v=l.createBackend({id:"query_under_debug",type:"query",query:K[o].query,name:"test",params:_,backend:R(De)}),v.registerView(y),v.execute(_)};function B(){a(1,x=window.innerWidth)}function k(){o=this.value,a(2,o)}function P(){d=this.value,a(4,d)}function T(u){we[u?"unshift":"push"](()=>{y=u,a(3,y)})}return[_,x,o,y,d,D,q,B,k,P,T]}class Ce extends oe{constructor(t){super(),ue(this,t,Pe,Oe,ce,{})}}export{Ce as default};
